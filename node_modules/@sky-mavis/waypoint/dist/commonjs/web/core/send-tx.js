'use strict';

var common_popup = require('../../common/popup.js');
require('../../common/Snackbar.js');
require('../../rpc-BJmuIVLE.js');
require('../../base-BPC6VLRS.js');

const sendTransaction = async ({
  config,
  params,
  chainId,
  expectAddress,
  clientId,
  waypointOrigin,
  communicateHelper
}) => {
  const [transaction] = params;
  const txHash = await communicateHelper.sendRequest(state => common_popup.openPopup(`${waypointOrigin}/wallet/send`, {
    state,
    clientId,
    origin: window.location.origin,
    chainId,
    expectAddress,
    ...transaction,
    ...config
  }));
  return txHash;
};

exports.sendTransaction = sendTransaction;
